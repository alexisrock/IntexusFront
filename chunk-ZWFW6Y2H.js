import{a as P}from"./chunk-FXXYGI6V.js";import{a as S}from"./chunk-67DE72J3.js";import{C as m,E as x,F as I,H as u,L as a,M as n,N as o,P as E,Q as d,R as p,W as r,X as b,Y as D,_ as M,ga as N,k as L,ka as T,p as f,q as C,s as y,sa as O,ta as R,ua as F,v as c,wa as h,x as v,y as g,z as w}from"./chunk-U7YQWJHB.js";var $=()=>["/tarea/create"];function q(i,t){i&1&&r(0," Terminada ")}function z(i,t){i&1&&r(0," Por terminar ")}function K(i,t){if(i&1){let e=E();a(0,"div",16)(1,"div",18)(2,"div",8)(3,"div",19)(4,"p",20),r(5),n(),a(6,"p",21)(7,"b"),r(8,"Estado:"),n(),m(9,q,1,0)(10,z,1,0),n(),a(11,"p",21),r(12),n()(),o(13,"div",22),a(14,"div",14)(15,"div",8)(16,"div",23)(17,"button",24),d("click",function(){let l=f(e).$implicit,_=p(3);return C(_.verTareaAsignada(l))}),o(18,"i",25),n()(),o(19,"div",23),a(20,"div",23)(21,"button",24),d("click",function(){let l=f(e).$implicit,_=p(3);return C(_.EliminarTarea(l.Id))}),o(22,"i",26),n()()()()()(),o(23,"br"),n()}if(i&2){let e=t.$implicit;c(5),b(e.NameTarea),c(4),u(e.IsCompleted?9:10),c(3),b(e.DescriptionTarea)}}function Z(i,t){if(i&1&&m(0,K,24,3,"div",17),i&2){let e=p(2);x("ngForOf",e.tareas)}}function H(i,t){if(i&1&&m(0,Z,1,1,"div",16),i&2){let e=p();u(e.tareas&&e.tareas.length>0?0:-1)}}function J(i,t){i&1&&r(0," Terminada ")}function Q(i,t){i&1&&r(0," Por terminar ")}function W(i,t){if(i&1){let e=E();a(0,"div",16)(1,"div",18)(2,"div",8)(3,"div",19)(4,"p",20),r(5),n(),a(6,"p",21)(7,"b"),r(8,"Usuario:"),n(),r(9),n(),a(10,"p",21)(11,"b"),r(12,"Estado:"),n(),m(13,J,1,0)(14,Q,1,0),n(),a(15,"p",21),r(16),n()(),o(17,"div",22),a(18,"div",14)(19,"div",8),o(20,"div",23)(21,"div",23),a(22,"div",23)(23,"button",24),d("click",function(){let l=f(e).$implicit,_=p(3);return C(_.eliminarAsignacionTarea(l.Id))}),o(24,"i",26),n()()()()()(),o(25,"br"),n()}if(i&2){let e=t.$implicit;c(5),b(e.NameTarea),c(4),D(" ",e.NameUsuario,""),c(4),u(e.IsCompleted?13:14),c(3),b(e.DescriptionTarea)}}function X(i,t){if(i&1&&m(0,W,26,4,"div",17),i&2){let e=p(2);x("ngForOf",e.tareasAsignadas)}}function Y(i,t){if(i&1&&m(0,X,1,1,"div",16),i&2){let e=p();u(e.tareas&&e.tareasAsignadas.length>0?0:-1)}}var k=class i{constructor(t,e){this.backService=t;this.router=e;this.initialStates()}event=new y;eventAsignacion=new y;component=1;tareas=[];tareasAsignadas=[];tareaserviceSubscription;tareaAsignadasserviceSubscription;initialStates(){this.tareaserviceSubscription=this.backService.currentTareas.subscribe(t=>{this.tareas=t}),this.tareaAsignadasserviceSubscription=this.backService.currentTareasAsingnadas.subscribe(t=>{this.tareasAsignadas=t})}ngOnDestroy(){this.tareaserviceSubscription?.unsubscribe(),this.tareaAsignadasserviceSubscription?.unsubscribe()}checkTareacompletada(t){this.backService.loadingOn();let e={};e.IdTarea=t,e.IsCompleted=!0,this.backService.checkTareaCompletada(e).subscribe({next:s=>{this.event.emit()},error:s=>{}})}EliminarTarea(t){this.backService.EliminarTarea(t).subscribe({next:e=>{this.event.emit()},error:e=>{}})}cambiarTablaTareas(t){this.component=t}eliminarAsignacionTarea(t){this.backService.EliminarAsignacionTarea(t).subscribe({next:e=>{this.eventAsignacion.emit()},error:e=>{}})}verTareaAsignada(t){this.backService.setCurrentTareasinAsignar(t),this.backService.setCurrentIsTareasinAsignar(!1),this.router.navigate(["create/editarTarea"])}static \u0275fac=function(e){return new(e||i)(v(S),v(O))};static \u0275cmp=g({type:i,selectors:[["app-list"]],outputs:{event:"event",eventAsignacion:"eventAsignacion"},decls:22,vars:5,consts:[[1,"row","container"],[1,"container","mt-4"],[1,"banner"],[1,"banner-overlay"],[1,"banner-content"],[1,"fw-bold"],["routerLinkActive","router-link-active",1,"btn","btn-light","mt-2",3,"routerLink"],[1,"bi","bi-calendar-plus","text-primary"],[1,"row"],[1,"col-lg-4","col-md-3","col-ms-3"],[1,"col-lg-6","col-md-7","col-ms-7"],["aria-label","Basic mixed styles example",1,"btn-group","mt-4"],["type","button",1,"btn","border-primary","btn-primary","rounded-start-pill",3,"click"],["type","button",1,"btn","border-primary","btn-light","rounded-end-pill",3,"click"],[1,"col-lg-3","col-md-2","col-ms-2"],[1,"row","mt-4","user-list-container"],[1,"list-group"],["class","list-group",4,"ngFor","ngForOf"],[1,"list-group-item","list-group-item-action"],[1,"col-lg-7","col-md-8","col-ms-8","text-left"],[1,"text-capitalize","fs-3","fw-semibold"],[1,"text-body-light"],[1,"col-lg-2","col-md-1","col-ms-1"],[1,"col-md-1","col-lg-1"],[1,"btn","btn-outline-primary","text-primary",3,"click"],[1,"bi","bi-pencil"],[1,"bi","bi-trash"]],template:function(e,s){e&1&&(a(0,"div",0)(1,"div",1)(2,"div",2),o(3,"div",3),a(4,"div",4)(5,"h2",5),r(6,"Tareas"),n(),a(7,"a",6),o(8,"i",7),r(9," Nueva Tarea "),n()()()(),a(10,"div",8),o(11,"div",9),a(12,"div",10)(13,"div",11)(14,"button",12),d("click",function(){return s.cambiarTablaTareas(1)}),r(15,"Asignadas"),n(),a(16,"button",13),d("click",function(){return s.cambiarTablaTareas(2)}),r(17,"Por Asignar"),n()()(),o(18,"div",14),n(),a(19,"div",15),m(20,H,1,1)(21,Y,1,1),n()()),e&2&&(c(7),x("routerLink",M(4,$)),c(9),I("active",s.component===2),c(4),u(s.component==2?20:21))},dependencies:[N,h,R,F],styles:['.banner[_ngcontent-%COMP%]{position:relative;background:url("./media/app-para-lista-de-tareas-57KZN4CT.jpg") center/cover no-repeat;border-radius:15px;height:200px;color:#fff;display:flex;align-items:center;padding:20px}.banner-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:#0006;border-radius:15px}.banner-content[_ngcontent-%COMP%]{position:relative;z-index:2}']})};var A=class i{constructor(t){this.backService=t;this.GetTareas(),this.GetTareasAsignadas()}GetTareas(){this.backService.GetAllTareas().subscribe({next:t=>{this.backService.setCurrentTareas(t)},error:t=>{}})}GetTareasAsignadas(){this.backService.GetAllTareasAsignadas().subscribe({next:t=>{this.backService.setCurrentTareasAsignadas(t)},error:t=>{}})}UpdataLista(){this.GetTareas()}UpdateAsignacionTareas(){this.GetTareasAsignadas()}static \u0275fac=function(e){return new(e||i)(v(S))};static \u0275cmp=g({type:i,selectors:[["app-dashboard"]],decls:4,vars:0,consts:[[1,"d-flex"],[1,"p-4"],[3,"event","eventAsignacion"]],template:function(e,s){e&1&&(a(0,"div",0),o(1,"app-menu"),a(2,"div",1)(3,"app-list",2),d("event",function(){return s.UpdataLista()})("eventAsignacion",function(){return s.UpdateAsignacionTareas()}),n()()())},dependencies:[k,T,P],encapsulation:2})};var V=[{path:"",component:A}];var B=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=w({type:i});static \u0275inj=L({imports:[T,h.forChild(V)]})};export{B as DashboardModule};
